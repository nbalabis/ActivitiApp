<% layout('layouts/boilerplate') %>
<link rel="stylesheet" href="/css/showStyles.css">

<div class="row">
  <div class="col-lg-8 offset-lg-2">
    <h1>
      <%= activity.title %>
    </h1>
    <h3>
      <%= activity.location %>
    </h3>
    <div id="carouselExampleControls" class="carousel slide mb-3" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="<%= activity.image %>" class="d-block w-100 carousel-img" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <div class="px-3">

      <div class="d-flex justify-content-between align-items-center mb-2">
        <h3>The Experience</h3>
        <div class="text-center">
          <h4>$<%= activity.price %></h4>
          <button class="btn btn-outline-primary">Book</button>
        </div>
      </div>
      <p class=""><%= activity.description %></p>

      <hr class="my-5">

      <div class="d-flex align-items-center mb-3">
        <a href="#" class="no-pointer">
          <img class="me-2 hover-zoom profile-img host-img" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80" alt="">
        </a>
        <h3>Meet your host, Hosty</h3>
      </div>
      <p class="">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Asperiores nihil consequuntur modi esse exercitationem voluptatum quasi reiciendis repudiandae vel nam. Odio assumenda facilis sequi officiis blanditiis esse sint temporibus tempore.
        Velit, saepe corrupti minima dignissimos molestiae eaque tenetur consequuntur pariatur laudantium rem ratione eveniet amet itaque ad non! A quod quos aperiam, labore consectetur sequi! Reiciendis velit odio laborum labore.
      </p>
      <button type="button" class="btn btn-outline-dark">Contact</button>

      <hr class="my-5">

      <h3>Reviews</h3>
      <div class="row row-cols-2">
        <% for(let review of activity.reviews) { %>
        <div class="col mt-3">
          <div class="d-flex align-items-center mb-1">
            <img class="me-2 profile-img reviewer-img" src="https://source.unsplash.com/random/profilepicture" alt="">
            <h5><%= review.rating %> Stars</h5>
          </div>
          <p class="mb-1"><%= review.body %></p>
          <form class="" action="/activities/<%= activity._id %>/reviews/<%= review._id %>?_method=DELETE" method="POST">
            <button class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </div>
        <% } %>

      </div>

      <hr class="my-5">

      <h3>Rate this Activity</h3>
      <form action="/activities/<%= activity._id %>/reviews" method="POST" class="needs-validation" novalidate>
        <div class="mb-3">
          <label for="rating" class="form-label">Rating</label>
          <input name="review[rating]" type="range" class="form-range" min="1" max="5" id="rating">
        </div>
        <div class="mb-3">
          <label class="form=label" for="body">Review</label>
          <textarea class="form-control" name="review[body]" id="body" rows="3" required></textarea>
          <div class="invalid-feedback">
            Please leave a review before submitting
          </div>
        </div>
        <button type="sbumit" class="btn btn-outline-dark">Submit</button>
      </form>

      <hr class="my-3">

      <div class="d-grid gap-2 col-6 mx-auto">
        <button class="btn btn-lg btn-primary">Let's go!</button>
      </div>

      <div class="d-flex justify-content-evenly align-items-center mt-3">
        <a href="/activities/<%= activity._id %>/edit" class="btn btn-outline-secondary">Edit</a>
      </div>

    </div>
  </div>